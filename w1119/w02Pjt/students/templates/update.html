<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="http://code.jquery.com/jquery-latest.min.js"></script>
  <title>학생정보 수정</title>
  <style>
    * {margin: 0; padding: 0;}
    h2{text-align: center; margin: 20px auto;}
    .main{text-align: center;}
    select{width: 173px;}
    button{width: 50px; height: 30px;}
  </style>
</head>
<body>
  <div class='main'>
    <h2>학생정보 수정</h2>
    <form action="{% url 'students:update' %}" method="post" name="sfrm">
      {% csrf_token %}
      <label>이름</label>
      <input type="hidden" name="name" id="name" value="{{stu.name}}">
      {{stu.name}}<br>
      <label>전공</label>
      <input type="text" name="major" id="major" value="{{stu.major}}"><br>
      <label>학년</label>
      <select name="grade" id="grade">
        <option value="1" {% if stu.grade == 1 %}selected{% endif %}>1학년</option>
        <option value="2" {% if stu.grade == 2 %}selected{% endif %}>2학년</option>
        <option value="3" {% if stu.grade == 3 %}selected{% endif %}>3학년</option>
        <option value="4" {% if stu.grade == 4 %}selected{% endif %}>4학년</option>
      </select><br>
      <label>나이</label>
      <input type="text" name="age" id="age" value="{{stu.age}}"><br>
      <label>성별</label>
      <input type="radio" name="gender" value="남자" id="male" {% if '남자' in stu.gender %}checked{% endif %}>
      <label for="male">남자</label>
      <input type="radio" name="gender" value="여자" id="female" {% if '여자' in stu.gender %}checked{% endif %}>
      <label for="female">여자</label><br>
      <label>취미</label>
      <input type="checkbox" name="hobby" id="game" value="game" {% if 'game' in stu.hobby %}checked{% endif %}>
      <label for="game">게임</label>
      <input type="checkbox" name="hobby" id="golf" value="golf" {% if 'golf' in stu.hobby %}checked{% endif %}>
      <label for="golf">골프</label>
      <input type="checkbox" name="hobby" id="swim" value="swim" {% if 'swim' in stu.hobby %}checked{% endif %}>
      <label for="swim">수영</label>
      <input type="checkbox" name="hobby" id="book" value="book" {% if 'book' in stu.hobby %}checked{% endif %}>
      <label for="book">독서</label>
      <input type="checkbox" name="hobby" id="run" value="run" {% if 'run' in stu.hobby %}checked{% endif %}>
      <label for="run">조깅</label><br>
      <button type="button" onclick="sBtn()">저장</button>
      <button type="button" onclick="cBtn()">취소</button>
      <script>
        function sBtn(){
          if ($('#name').val().length<2){
            alert("이름은 두 자리 이상 입력해야 합니다.")
            return false;
          }
          alert("1명의 학생 정보를 저장합니다.")
          sfrm.submit();
        }
        function cBtn(){
          alert("메인화면으로 돌아갑니다.")
          location.href='/'
        }
      </script>
    </form>
  </div>
</body>
</html>